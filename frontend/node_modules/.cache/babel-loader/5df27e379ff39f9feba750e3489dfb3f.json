{"ast":null,"code":"import { Vector3 } from \"three\";\nimport { Sphere } from \"./Sphere\"; // import { Sphere } from \"three\";\n\nexport class World {\n  constructor() {\n    this.objects = [];\n    this.currentLoopInterval = null;\n    this.objects = [];\n  }\n\n  updatePositions() {\n    for (let i = 0; i < this.objects.length; i++) {\n      this.updatePositionOfSphere(this.objects[i], 0.01);\n      console.log(\"updated \", i, this.objects[i].position);\n    }\n  } // updates position of object based on speed.\n\n\n  updatePositionOfSphere(s, dt) {\n    s.position.addScaledVector(s.velocity, 0.01);\n  }\n\n  startGameLoop() {\n    const s = new Sphere(new Vector3(0, 0, 0), new Vector3(0, 1, 0), 3);\n    const s2 = new Sphere(new Vector3(5, 0, 0), new Vector3(0, 1, 0), 3);\n    const s3 = new Sphere(new Vector3(0, 5, 0), new Vector3(0, 1, 0), 3);\n    this.objects = [];\n    this.objects.push(s);\n    this.objects.push(s2);\n    this.objects.push(s3);\n    console.log(\"this.objects\", this.objects);\n    this.clearCurrentLoop();\n    let lastCalledTime = performance.now(); // returns timestamp in ms\n\n    let fps = 0;\n    let times = [];\n    let i = 0; // this.currentLoopInterval = setInterval(() => {i++; console.log(i)}, 1000);\n\n    const currentInstance = this;\n\n    function animate() {\n      requestAnimationFrame(animate);\n      currentInstance.updatePositions();\n      console.log('hi');\n    }\n\n    animate();\n  }\n\n  getObjects() {\n    console.log(\"this.objects: \", this.objects);\n    return this.objects;\n  }\n\n  clearCurrentLoop() {\n    clearInterval(this.currentLoopInterval);\n  }\n\n}","map":{"version":3,"names":["Vector3","Sphere","World","constructor","objects","currentLoopInterval","updatePositions","i","length","updatePositionOfSphere","console","log","position","s","dt","addScaledVector","velocity","startGameLoop","s2","s3","push","clearCurrentLoop","lastCalledTime","performance","now","fps","times","currentInstance","animate","requestAnimationFrame","getObjects","clearInterval"],"sources":["/Users/danny/Github/physics_engine_for_the_web/frontend/src/physics_engine/physics_engine.ts"],"sourcesContent":["import { Vector3 } from \"three\";\nimport * as THREE from \"three\";\nimport { Sphere } from \"./Sphere\";\n// import { Sphere } from \"three\";\n\nexport class World {\n    private objects: any[] = [];\n    private currentLoopInterval: any = null;\n\n    constructor() {\n        this.objects = [];\n    }\n\n    updatePositions(): void {\n        for (let i = 0; i < this.objects.length; i++) {\n            this.updatePositionOfSphere(this.objects[i], 0.01);\n            console.log(\"updated \", i, this.objects[i].position);\n        }\n    }\n\n    // updates position of object based on speed.\n    updatePositionOfSphere(s: Sphere, dt: number): void {\n        s.position.addScaledVector(s.velocity, 0.01);\n    }\n\n    startGameLoop(): void {\n        const s = new Sphere(new Vector3(0, 0, 0), new Vector3(0, 1, 0), 3);\n        const s2 = new Sphere(new Vector3(5, 0, 0), new Vector3(0, 1, 0), 3);\n        const s3 = new Sphere(new Vector3(0, 5, 0), new Vector3(0, 1, 0), 3);\n        \n        this.objects = [];\n        this.objects.push(s);\n        this.objects.push(s2);\n        this.objects.push(s3);\n\n        console.log(\"this.objects\", this.objects);\n\n        this.clearCurrentLoop();\n\n        let lastCalledTime = performance.now() // returns timestamp in ms\n        let fps = 0;\n        let times = [];\n\n        let i = 0;\n        // this.currentLoopInterval = setInterval(() => {i++; console.log(i)}, 1000);\n\n        const currentInstance = this;\n        function animate(): void {\n            requestAnimationFrame(animate);\n            currentInstance.updatePositions();\n            console.log('hi');\n        }\n        animate();\n    }\n\n    getObjects(): any[] {\n        console.log(\"this.objects: \", this.objects);\n        return this.objects;\n    }\n\n    clearCurrentLoop(): void {\n        clearInterval(this.currentLoopInterval);\n    }\n}"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AAEA,SAASC,MAAT,QAAuB,UAAvB,C,CACA;;AAEA,OAAO,MAAMC,KAAN,CAAY;EAIfC,WAAW,GAAG;IAAA,KAHNC,OAGM,GAHW,EAGX;IAAA,KAFNC,mBAEM,GAFqB,IAErB;IACV,KAAKD,OAAL,GAAe,EAAf;EACH;;EAEDE,eAAe,GAAS;IACpB,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKH,OAAL,CAAaI,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;MAC1C,KAAKE,sBAAL,CAA4B,KAAKL,OAAL,CAAaG,CAAb,CAA5B,EAA6C,IAA7C;MACAG,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,CAAxB,EAA2B,KAAKH,OAAL,CAAaG,CAAb,EAAgBK,QAA3C;IACH;EACJ,CAbc,CAef;;;EACAH,sBAAsB,CAACI,CAAD,EAAYC,EAAZ,EAA8B;IAChDD,CAAC,CAACD,QAAF,CAAWG,eAAX,CAA2BF,CAAC,CAACG,QAA7B,EAAuC,IAAvC;EACH;;EAEDC,aAAa,GAAS;IAClB,MAAMJ,CAAC,GAAG,IAAIZ,MAAJ,CAAW,IAAID,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAX,EAAiC,IAAIA,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAjC,EAAuD,CAAvD,CAAV;IACA,MAAMkB,EAAE,GAAG,IAAIjB,MAAJ,CAAW,IAAID,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAX,EAAiC,IAAIA,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAjC,EAAuD,CAAvD,CAAX;IACA,MAAMmB,EAAE,GAAG,IAAIlB,MAAJ,CAAW,IAAID,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAX,EAAiC,IAAIA,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAjC,EAAuD,CAAvD,CAAX;IAEA,KAAKI,OAAL,GAAe,EAAf;IACA,KAAKA,OAAL,CAAagB,IAAb,CAAkBP,CAAlB;IACA,KAAKT,OAAL,CAAagB,IAAb,CAAkBF,EAAlB;IACA,KAAKd,OAAL,CAAagB,IAAb,CAAkBD,EAAlB;IAEAT,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAKP,OAAjC;IAEA,KAAKiB,gBAAL;IAEA,IAAIC,cAAc,GAAGC,WAAW,CAACC,GAAZ,EAArB,CAdkB,CAcqB;;IACvC,IAAIC,GAAG,GAAG,CAAV;IACA,IAAIC,KAAK,GAAG,EAAZ;IAEA,IAAInB,CAAC,GAAG,CAAR,CAlBkB,CAmBlB;;IAEA,MAAMoB,eAAe,GAAG,IAAxB;;IACA,SAASC,OAAT,GAAyB;MACrBC,qBAAqB,CAACD,OAAD,CAArB;MACAD,eAAe,CAACrB,eAAhB;MACAI,OAAO,CAACC,GAAR,CAAY,IAAZ;IACH;;IACDiB,OAAO;EACV;;EAEDE,UAAU,GAAU;IAChBpB,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKP,OAAnC;IACA,OAAO,KAAKA,OAAZ;EACH;;EAEDiB,gBAAgB,GAAS;IACrBU,aAAa,CAAC,KAAK1B,mBAAN,CAAb;EACH;;AAzDc"},"metadata":{},"sourceType":"module"}