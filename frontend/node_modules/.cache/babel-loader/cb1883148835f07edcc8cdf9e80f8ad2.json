{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{World,Sphere,Box}from\"../physics_engine/physics_engine\";import*as THREE from\"three\";import{Vector3}from\"three\";import{OrbitControls}from\"three-orbitcontrols-ts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CANVAS_WIDTH=1000;var CANVAS_HEIGHT=500;// camera\nvar camera=new THREE.PerspectiveCamera(45,CANVAS_WIDTH/CANVAS_HEIGHT,1,1000);camera.position.set(0,-CANVAS_HEIGHT/6,CANVAS_HEIGHT/6);camera.up.set(0,1,0);// add lighting\nvar light_color=0xffffff;var intensity=1;var point_light=new THREE.PointLight(light_color,intensity);point_light.position.set(50,50,50);var ambient_light=new THREE.AmbientLight(light_color,0.2);var Demo1=/*#__PURE__*/function(_React$Component){_inherits(Demo1,_React$Component);var _super=_createSuper(Demo1);function Demo1(props){var _this;_classCallCheck(this,Demo1);_this=_super.call(this,props);_this.canvasRef=void 0;_this.w=void 0;_this.renderer=void 0;_this.animationRequestID=void 0;_this.scene=void 0;_this.canvasRef=/*#__PURE__*/React.createRef();_this.w=new World();// graphics\n_this.renderer=null;_this.animationRequestID=null;// bindings\n_this.onRestart=_this.onRestart.bind(_assertThisInitialized(_this));_this.onResume=_this.onResume.bind(_assertThisInitialized(_this));_this.onPause=_this.onPause.bind(_assertThisInitialized(_this));return _this;}_createClass(Demo1,[{key:\"componentDidMount\",value:function componentDidMount(){// graphics\nthis.renderer=new THREE.WebGLRenderer({canvas:this.canvasRef.current,alpha:false});this.renderer.setSize(CANVAS_WIDTH,CANVAS_HEIGHT);// orbit controls\nvar controls=new OrbitControls(camera,this.renderer.domElement);this.initialize();this.onVisualize();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.renderer){this.renderer=null;}if(this.animationRequestID){cancelAnimationFrame(this.animationRequestID);}}},{key:\"initialize\",value:function initialize(){// cancel ongoing animation\nif(this.animationRequestID){cancelAnimationFrame(this.animationRequestID);}this.w=new World();this.scene=new THREE.Scene();// set up objects\nvar sphere=new Sphere(new Vector3(0,0,0),5);var sphere2=new Sphere(new Vector3(30,20,40),3);var box=new Box(new Vector3(30,0,0),4,4,4);var box2=new Box(new Vector3(-50,0,20),5,5,5);var box3=new Box(new Vector3(-40,-40,-20),2,2,8);sphere.inverseMass=1/300000;sphere.velocity=new Vector3(0,0,0);sphere2.velocity=new Vector3(-10,100,-10);box.velocity=new Vector3(0,150,0);box2.velocity=new Vector3(0,-100,0);box3.velocity=new Vector3(70,0,-10);box.angularMomentum=new Vector3(0,3,3).applyMatrix3(box.getInertia());box2.angularMomentum=new Vector3(5,5,5).applyMatrix3(box2.getInertia());box3.angularMomentum=new Vector3(-3,1,0).applyMatrix3(box3.getInertia());this.w.addObject(sphere);this.w.addObject(sphere2);this.w.addObject(box);this.w.addObject(box2);this.w.addObject(box3);// add object meshes and bounding box meshes to scene\nvar _iterator=_createForOfIteratorHelper(this.w.objects),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var object=_step.value;this.scene.add(object.mesh);//this.scene.add(object.boundingBoxMesh);\n}// add gridHelper\n}catch(err){_iterator.e(err);}finally{_iterator.f();}var gridHelper=new THREE.GridHelper(100,10);gridHelper.rotateOnWorldAxis(new Vector3(1,0,0),Math.PI/2);this.scene.add(gridHelper);// add lighting\nthis.scene.add(point_light,ambient_light);}},{key:\"onVisualize\",value:function onVisualize(){// cancel ongoing animation\nif(this.animationRequestID){cancelAnimationFrame(this.animationRequestID);}var renderer=this.renderer;var scene=this.scene;var world=this.w;var objects=world.objects;var gravitational_constant=1;var currentInstance=this;function animate(){currentInstance.animationRequestID=requestAnimationFrame(animate);var toBeRemovedFromScene=[];// apply forces\nvar _iterator2=_createForOfIteratorHelper(objects),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var obj1=_step2.value;if(obj1.inverseMass===0){continue;}var mass1=1/obj1.inverseMass;var _iterator5=_createForOfIteratorHelper(objects),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var obj2=_step5.value;var relative_position=obj2.position.clone().sub(obj1.position);if(obj2.inverseMass===0||relative_position.length()===0){continue;}var mass2=1/obj2.inverseMass;var u_12=relative_position.clone().normalize();var radius_squared=relative_position.length()*relative_position.length();obj1.forceAccum.addScaledVector(u_12,gravitational_constant*mass1*mass2/radius_squared);obj2.forceAccum.addScaledVector(u_12,-gravitational_constant*mass1*mass2/radius_squared);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}// add arrows to represent force vectors\n}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var _iterator3=_createForOfIteratorHelper(objects),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _object=_step3.value;var direction=_object.forceAccum.clone().normalize();var length=_object.forceAccum.length()/2000;var origin=_object.position;var hex=0xff5c77;var arrow=new THREE.ArrowHelper(direction,origin,length,hex);toBeRemovedFromScene.push(arrow);scene.add(arrow);}// physics step\n// world.integrateObjects(1/60);\n}catch(err){_iterator3.e(err);}finally{_iterator3.f();}world.tick(1/60);// graphics step\nworld.updateMeshes();// add arrows to represent velocity vectors\nvar _iterator4=_createForOfIteratorHelper(objects),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _object2=_step4.value;var _direction=_object2.velocity.clone().normalize();var _length=_object2.velocity.length()/5;var _origin=_object2.position;var _hex=0x4dd091;var _arrow=new THREE.ArrowHelper(_direction,_origin,_length,_hex);toBeRemovedFromScene.push(_arrow);scene.add(_arrow);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}renderer.render(scene,camera);for(var _i=0,_toBeRemovedFromScene=toBeRemovedFromScene;_i<_toBeRemovedFromScene.length;_i++){var object=_toBeRemovedFromScene[_i];scene.remove(object);}}animate();}},{key:\"onRestart\",value:function onRestart(){this.initialize();this.onVisualize();}},{key:\"onResume\",value:function onResume(){this.onVisualize();}},{key:\"onPause\",value:function onPause(){// cancel ongoing animation\nif(this.animationRequestID){cancelAnimationFrame(this.animationRequestID);}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"playground\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Demo 1\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This scene shows how the physics engine is able to simulate unconstrained motion. At each time step, a gravitational force is applied to each object. Then, each object's position and orientiation is updated based on its velocity and angular momentum.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.onRestart,children:\"Restart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.onResume,children:\"Resume\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.onPause,children:\"Pause\"}),/*#__PURE__*/_jsx(\"div\",{id:\"canvas_container\",children:/*#__PURE__*/_jsx(\"canvas\",{ref:this.canvasRef,width:CANVAS_WIDTH,height:CANVAS_HEIGHT})})]});}}]);return Demo1;}(React.Component);export{Demo1 as default};","map":{"version":3,"names":["React","World","Sphere","Box","THREE","Vector3","OrbitControls","CANVAS_WIDTH","CANVAS_HEIGHT","camera","PerspectiveCamera","position","set","up","light_color","intensity","point_light","PointLight","ambient_light","AmbientLight","Demo1","props","canvasRef","w","renderer","animationRequestID","scene","createRef","onRestart","bind","onResume","onPause","WebGLRenderer","canvas","current","alpha","setSize","controls","domElement","initialize","onVisualize","cancelAnimationFrame","Scene","sphere","sphere2","box","box2","box3","inverseMass","velocity","angularMomentum","applyMatrix3","getInertia","addObject","objects","object","add","mesh","gridHelper","GridHelper","rotateOnWorldAxis","Math","PI","world","gravitational_constant","currentInstance","animate","requestAnimationFrame","toBeRemovedFromScene","obj1","mass1","obj2","relative_position","clone","sub","length","mass2","u_12","normalize","radius_squared","forceAccum","addScaledVector","direction","origin","hex","arrow","ArrowHelper","push","tick","updateMeshes","render","remove","Component"],"sources":["/Users/danny/Github/physics_engine_for_the_web/frontend/src/Demos/Demo1.tsx"],"sourcesContent":["import React from \"react\";\nimport { World, Sphere, Box } from \"../physics_engine/physics_engine\";\nimport * as THREE from \"three\";\nimport { Vector3 } from \"three\";\nimport { OrbitControls } from \"three-orbitcontrols-ts\";\n\nconst CANVAS_WIDTH = 1000;\nconst CANVAS_HEIGHT = 500;\n\n// camera\nconst camera = new THREE.PerspectiveCamera(45, CANVAS_WIDTH / CANVAS_HEIGHT, 1, 1000);\ncamera.position.set(0, -CANVAS_HEIGHT / 6, CANVAS_HEIGHT / 6);\ncamera.up.set(0, 1, 0);\n\n// add lighting\nconst light_color = 0xffffff;\nconst intensity = 1;\nconst point_light = new THREE.PointLight(light_color, intensity);\npoint_light.position.set(50, 50, 50);\n\nconst ambient_light = new THREE.AmbientLight(light_color, 0.2);\n\nexport default class Demo1 extends React.Component {\n    private canvasRef: any;\n\n    private w: World;\n\n    private renderer: any;\n    private animationRequestID: any;\n    private scene: THREE.Scene;\n\n    constructor(props: any) {\n        super(props);\n        this.canvasRef = React.createRef();\n        this.w = new World();\n\n        // graphics\n        this.renderer = null;\n        this.animationRequestID = null;\n\n        // bindings\n        this.onRestart = this.onRestart.bind(this);\n        this.onResume = this.onResume.bind(this);\n        this.onPause = this.onPause.bind(this);\n    }\n\n    componentDidMount(): void {\n        // graphics\n        this.renderer = new THREE.WebGLRenderer({ canvas: this.canvasRef.current, alpha: false })\n        this.renderer.setSize(CANVAS_WIDTH, CANVAS_HEIGHT);\n\n        // orbit controls\n        const controls = new OrbitControls(camera, this.renderer.domElement);\n\n        this.initialize();\n        this.onVisualize();\n    }\n\n    componentWillUnmount() {\n        if(this.renderer) {\n            this.renderer = null;\n        }\n\n        if (this.animationRequestID) {\n            cancelAnimationFrame(this.animationRequestID);\n        }\n    }\n\n    initialize(): void {\n        // cancel ongoing animation\n        if (this.animationRequestID) {\n            cancelAnimationFrame(this.animationRequestID);\n        }\n\n        this.w = new World();\n        this.scene = new THREE.Scene();\n\n        // set up objects\n        const sphere = new Sphere(new Vector3(0, 0, 0), 5);\n        const sphere2 = new Sphere(new Vector3(30, 20, 40), 3);\n        const box = new Box(new Vector3(30, 0, 0), 4, 4, 4);\n        const box2 = new Box(new Vector3(-50, 0, 20), 5, 5, 5);\n        const box3 = new Box(new Vector3(-40, -40, -20), 2, 2, 8);\n\n        sphere.inverseMass = 1/300000;\n\n        sphere.velocity = new Vector3(0, 0, 0);\n        sphere2.velocity = new Vector3(-10, 100, -10);\n        box.velocity = new Vector3(0, 150, 0);\n        box2.velocity = new Vector3(0, -100, 0);\n        box3.velocity = new Vector3(70, 0, -10);\n\n        box.angularMomentum = new Vector3(0, 3, 3).applyMatrix3(box.getInertia());\n        box2.angularMomentum = new Vector3(5, 5, 5).applyMatrix3(box2.getInertia());\n        box3.angularMomentum = new Vector3(-3, 1, 0).applyMatrix3(box3.getInertia());\n\n        this.w.addObject(sphere);\n        this.w.addObject(sphere2);\n        this.w.addObject(box);\n        this.w.addObject(box2);\n        this.w.addObject(box3);\n\n        // add object meshes and bounding box meshes to scene\n        for (let object of this.w.objects) {\n            this.scene.add(object.mesh);\n            //this.scene.add(object.boundingBoxMesh);\n        }\n\n        // add gridHelper\n        const gridHelper = new THREE.GridHelper( 100, 10 );\n        gridHelper.rotateOnWorldAxis(new Vector3(1, 0, 0), Math.PI/2);\n        this.scene.add(gridHelper);\n\n        // add lighting\n        this.scene.add(point_light, ambient_light);\n    }\n\n    onVisualize(): void {\n        // cancel ongoing animation\n        if (this.animationRequestID) {\n            cancelAnimationFrame(this.animationRequestID);\n        }\n\n        const renderer = this.renderer;\n        const scene = this.scene;\n        const world = this.w;\n        const objects = world.objects;\n\n        let gravitational_constant = 1;\n\n        const currentInstance = this;\n        function animate() {\n            currentInstance.animationRequestID = requestAnimationFrame(animate);\n\n            const toBeRemovedFromScene = [];\n\n            // apply forces\n            for (let obj1 of objects) {\n                if (obj1.inverseMass === 0) {\n                    continue;\n                }\n\n                const mass1 = 1/obj1.inverseMass;\n\n                for (let obj2 of objects) {\n                    const relative_position = obj2.position.clone().sub(obj1.position);\n                    if (obj2.inverseMass === 0 || relative_position.length() === 0) {\n                        continue;\n                    }\n\n                    const mass2 = 1/obj2.inverseMass;\n                    const u_12 = relative_position.clone().normalize();\n                    const radius_squared = relative_position.length() * relative_position.length();\n                    obj1.forceAccum.addScaledVector(u_12, gravitational_constant * mass1 * mass2 / radius_squared)\n                    obj2.forceAccum.addScaledVector(u_12, -gravitational_constant * mass1 * mass2 / radius_squared);\n                }\n            }\n\n            // add arrows to represent force vectors\n            for (let object of objects) {\n                const direction = object.forceAccum.clone().normalize();\n                const length = object.forceAccum.length()/2000;\n                const origin = object.position;\n                const hex = 0xff5c77;\n                const arrow = new THREE.ArrowHelper(direction, origin, length, hex);\n                toBeRemovedFromScene.push(arrow);\n                scene.add(arrow);\n            }\n\n            // physics step\n            // world.integrateObjects(1/60);\n            world.tick(1/60);\n            \n            // graphics step\n            world.updateMeshes();\n\n            // add arrows to represent velocity vectors\n            for (let object of objects) {\n                \n                const direction = object.velocity.clone().normalize();\n                const length = object.velocity.length() / 5;\n                const origin = object.position;\n                const hex = 0x4dd091;\n                const arrow = new THREE.ArrowHelper(direction, origin, length, hex);\n                toBeRemovedFromScene.push(arrow);\n                scene.add(arrow);\n            }\n\n            renderer.render(scene, camera);\n\n            for (let object of toBeRemovedFromScene) {\n                scene.remove(object);\n            }\n        }\n        animate();\n    }\n\n    onRestart(): void {\n        this.initialize();\n        this.onVisualize();\n    }\n\n    onResume(): void {\n        this.onVisualize();\n    }\n\n    onPause(): void {\n        // cancel ongoing animation\n        if (this.animationRequestID) {\n            cancelAnimationFrame(this.animationRequestID);\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"playground\">\n                <h2>Demo 1</h2>\n                <p>This scene shows how the physics engine is able to simulate unconstrained motion. At each time step, a gravitational force is applied to each object. Then, each object's position and orientiation is updated based on its velocity and angular momentum.</p>\n                <button onClick={this.onRestart}>Restart</button>\n                <button onClick={this.onResume}>Resume</button>\n                <button onClick={this.onPause}>Pause</button>\n                <div id=\"canvas_container\">\n                    <canvas ref={this.canvasRef} width={CANVAS_WIDTH} height={CANVAS_HEIGHT} />\n                </div>\n            </div>\n        )\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}