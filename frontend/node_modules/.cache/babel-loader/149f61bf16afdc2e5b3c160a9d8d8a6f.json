{"ast":null,"code":"import _classCallCheck from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/danny/Github/physics_engine_for_the_web/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{World}from\"../physics_engine/physics_engine\";import*as THREE from\"three\";import{Box}from\"../physics_engine/Box\";import{Vector3}from\"three\";import\"./About.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CANVAS_WIDTH=1000;var CANVAS_HEIGHT=200;// camera\nvar camera=new THREE.PerspectiveCamera(45,CANVAS_WIDTH/CANVAS_HEIGHT,1,1000);camera.position.set(0,0,CANVAS_HEIGHT/4);camera.up.set(0,1,0);// add lighting\nvar light_color=0xffffff;var intensity=1;var point_light=new THREE.PointLight(light_color,intensity);point_light.position.set(0,0,50);var ambient_light=new THREE.AmbientLight(light_color,0.2);var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.canvasRef=void 0;_this.w=void 0;_this.renderer=void 0;_this.animationRequestID=void 0;_this.canvasRef=/*#__PURE__*/React.createRef();_this.w=new World();// graphics\n_this.renderer=null;_this.animationRequestID=null;return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){this.w=new World();// graphics\nthis.renderer=new THREE.WebGLRenderer({canvas:this.canvasRef.current,alpha:true});this.renderer.setSize(CANVAS_WIDTH,CANVAS_HEIGHT);// orbit controls\n// const controls = new OrbitControls(camera, this.renderer.domElement);\nthis.onVisualize();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.renderer){this.renderer=null;}if(this.animationRequestID){cancelAnimationFrame(this.animationRequestID);}}},{key:\"onVisualize\",value:function onVisualize(){// cancel ongoing animation\nif(this.animationRequestID){cancelAnimationFrame(this.animationRequestID);}this.w=new World();var box=new Box(new Vector3(0,0,0),15,15,15);box.angularMomentum=new Vector3(2,2,1).applyMatrix3(box.getInertia());this.w.addObject(box);var boxMesh=box.mesh;var scene=new THREE.Scene();scene.add(boxMesh);scene.add(point_light,ambient_light);var currentInstance=this;function animate(){currentInstance.animationRequestID=requestAnimationFrame(animate);currentInstance.w.integrateObjects(1/60);currentInstance.w.updateMeshes();currentInstance.renderer.render(scene,camera);}animate();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"about\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"About\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Hello. I recently created a simpe rigid-body physics engine as a personal project. This site is meant to serve as a visual demo to showcase its functionality. \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"For anyone interested, the source code is available on the \",/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/dannyh2021/physics_game_engine\",target:\"_blank\",children:\"Github repo\"}),\".\"]}),/*#__PURE__*/_jsx(\"div\",{id:\"canvas_container\",children:/*#__PURE__*/_jsx(\"canvas\",{ref:this.canvasRef,width:CANVAS_WIDTH,height:CANVAS_HEIGHT})})]});}}]);return Home;}(React.Component);export{Home as default};","map":{"version":3,"names":["React","World","THREE","Box","Vector3","CANVAS_WIDTH","CANVAS_HEIGHT","camera","PerspectiveCamera","position","set","up","light_color","intensity","point_light","PointLight","ambient_light","AmbientLight","Home","props","canvasRef","w","renderer","animationRequestID","createRef","WebGLRenderer","canvas","current","alpha","setSize","onVisualize","cancelAnimationFrame","box","angularMomentum","applyMatrix3","getInertia","addObject","boxMesh","mesh","scene","Scene","add","currentInstance","animate","requestAnimationFrame","integrateObjects","updateMeshes","render","Component"],"sources":["/Users/danny/Github/physics_engine_for_the_web/frontend/src/About/About.tsx"],"sourcesContent":["import React from \"react\";\nimport { World } from \"../physics_engine/physics_engine\";\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three-orbitcontrols-ts\";\nimport { Box } from \"../physics_engine/Box\";\nimport { Sphere } from \"../physics_engine/Sphere\";\nimport { Vector3 } from \"three\";\n\nimport \"./About.css\";\n\nconst CANVAS_WIDTH = 1000;\nconst CANVAS_HEIGHT = 200;\n\n// camera\nconst camera = new THREE.PerspectiveCamera(45, CANVAS_WIDTH / CANVAS_HEIGHT, 1, 1000);\ncamera.position.set(0, 0, CANVAS_HEIGHT / 4);\ncamera.up.set(0, 1, 0);\n\n// add lighting\nconst light_color = 0xffffff;\nconst intensity = 1;\nconst point_light = new THREE.PointLight(light_color, intensity);\npoint_light.position.set(0, 0, 50);\n\nconst ambient_light = new THREE.AmbientLight(light_color, 0.2);\n\nexport default class Home extends React.Component {\n    canvasRef: any;\n    private w: World;\n    private renderer: any;\n    private animationRequestID: any;\n\n    constructor(props: any) {\n        super(props);\n        this.canvasRef = React.createRef();\n        this.w = new World();\n\n        // graphics\n        this.renderer = null;\n        this.animationRequestID = null;\n    }\n\n    componentDidMount(): void {\n        this.w = new World();\n\n        // graphics\n        this.renderer = new THREE.WebGLRenderer({ canvas: this.canvasRef.current, alpha: true })\n        this.renderer.setSize(CANVAS_WIDTH, CANVAS_HEIGHT);\n\n        // orbit controls\n        // const controls = new OrbitControls(camera, this.renderer.domElement);\n\n        this.onVisualize();\n    }\n\n    componentWillUnmount() {\n        if(this.renderer) {\n            this.renderer = null;\n        }\n\n        if (this.animationRequestID) {\n            cancelAnimationFrame(this.animationRequestID);\n        }\n    }\n\n    onVisualize() {\n        // cancel ongoing animation\n        if (this.animationRequestID) {\n            cancelAnimationFrame(this.animationRequestID);\n        }\n\n        this.w = new World();\n\n        const box = new Box(new Vector3(0, 0, 0), 15, 15, 15);\n        box.angularMomentum = new Vector3(2, 2, 1).applyMatrix3(box.getInertia());\n        this.w.addObject(box);\n\n        const boxMesh = box.mesh;\n        \n        const scene = new THREE.Scene();\n        scene.add(boxMesh);\n        scene.add(point_light, ambient_light);\n\n        const currentInstance = this;\n        function animate() {\n            currentInstance.animationRequestID = requestAnimationFrame(animate);\n\n            currentInstance.w.integrateObjects(1/60);\n            currentInstance.w.updateMeshes();\n\n            currentInstance.renderer.render(scene, camera);\n        }\n\n        animate();\n    }\n\n    render() {\n        return (\n            <div className=\"about\" >\n                <h2>About</h2>\n                <p>Hello. I recently created a simpe rigid-body physics engine as a personal project.\n                     This site is meant to serve as a visual demo to showcase its functionality. </p>\n                <p>For anyone interested, the source code is available on the <a href=\"https://github.com/dannyh2021/physics_game_engine\" target=\"_blank\">Github repo</a>.</p>\n                <div id=\"canvas_container\">\n                    <canvas ref={this.canvasRef} width={CANVAS_WIDTH} height={CANVAS_HEIGHT} />\n                </div>\n            </div>\n        )\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}